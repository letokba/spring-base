## 策略模式

### 定义

- 环境类 `Context`，一般代理策略接口的方法
- 策略接口 `Strategy`, 定义算法或行为 API
- 具体策略类
- 客户类 `Client`, 需要知道所有策略，调用所需要的策略类。

### 优点
1. 算法自由切换，增加可扩展性。
2. 避免不必要的 `if-else`

### 缺点

1. 策略类数量增多，且复用性低。
2. 所有的策略类都向外暴露，客户端必须了解所有的策略

### 使用场景

1. 多个类近在某个算法或行为上不同。
2. 算法或行为需要自由切换。
3. 需要屏蔽算法规则，向外提供粗粒度接口。

### 扩展  

#### 类数量增多问题

有时候，一个行为很简单，定义策略类显得多余，
1. 输入，输出都为基本类型，可以利用 `Function`接口，定义策略静态工厂。
2. 利用Java的反射机制，将行为都定义在一个类内。利用注解实现映射问题。

#### 客户端预先知道所有策略类
客户端需要了解所有的策略类，且客户端代码与策略类之间耦合，实际它仅需要通过 Context 中提供的代理方法完成运算。
为了解决耦合问题，可以增加映射配置文件，来实现解耦。

1. 策略工厂 + 枚举，常规方法。
2. 复杂枚举类（每个枚举都实现策略方法），适用于简单的方法
3. 静态工厂 + Function 接口，适用于每个策略点击率都较高的情况下。
